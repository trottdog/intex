<!-- views/myJourney/my-photos.ejs -->

<section class="section">
  <div class="shell">
    <aside class="sidebar">
      <%- include("../partials/_sidebarMyJourney") %>
    </aside>

    <section>
      <header class="mb-3">
        <h1 class="mt-0">My Photos</h1>
        <p class="text-muted">
          These are photos where you have been tagged during Ella Rises events.
        </p>
      </header>

      <% if (!taggedPhotos || taggedPhotos.length === 0) { %>
        <div class="card">
          <p class="text-muted mb-0">
            You have not been tagged in any photos yet. As photos are uploaded
            and tagged, they will appear here.
          </p>
        </div>
      <% } else { %>
        <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.5rem;">
          <% taggedPhotos.forEach(photo => { %>
            <article class="card card--hoverable" style="padding: 0; overflow: hidden;">
              <div style="width: 100%; aspect-ratio: 4 / 3; overflow: hidden;">
                <img
                  src="<%= photo.file_path %>"
                  alt="<%= photo.alt_text || 'Ella Rises event photo' %>"
                  style="width: 100%; height: 100%; object-fit: cover;"
                />
              </div>
              <div style="padding: 1rem 1.25rem;">
                <p class="text-muted" style="font-size: var(--text-xs); margin-bottom: 0.25rem;">
                  <%= photo.event_date_start_formatted || '' %>
                </p>
                <p style="font-weight: 600; margin-bottom: 0.25rem;">
                  <%= photo.event_name || 'Ella Rises event' %>
                </p>
                <% if (photo.taken_at_formatted) { %>
                  <p class="text-muted" style="font-size: var(--text-xs); margin: 0;">
                    Taken: <%= photo.taken_at_formatted %>
                  </p>
                <% } %>
              </div>
            </article>
          <% }) %>
        </div>
      <% } %>
    </section>
  </div>
</section>
